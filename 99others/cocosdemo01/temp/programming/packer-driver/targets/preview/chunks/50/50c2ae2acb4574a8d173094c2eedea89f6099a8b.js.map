{"version":3,"sources":["file:///Users/gongminghua/Public/02fontstudy/99others/cocosdemo01/assets/src/scripts/playing/bg.ts"],"names":["_decorator","Component","instantiate","log","ccclass","property","b_g","tooltip","range","n1","n2","w","onLoad","num","node","children","length","parent","setPosition","position","y","height","start","update","deltaTime","speed"],"mappings":";;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,G,OAAAA,G;;;;;;;;;OACvC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;qBAGjBM,G,WADZF,OAAO,CAAC,IAAD,C,UAKHC,QAAQ,CAAC;AACNE,QAAAA,OAAO,EAAC,QADF;AAENC,QAAAA,KAAK,EAAC,CAAC,IAAD,EAAM,EAAN;AAFA,OAAD,C,2BALb,MACaF,GADb,SACyBL,SADzB,CACmC;AAAA;AAAA;AAAA,eAC/BQ,EAD+B;AAAA,eAE/BC,EAF+B;AAAA,eAG/BC,CAH+B;;AAAA;AAAA;;AASrBC,QAAAA,MAAM,GAAS;AACrB,cAAIC,GAAG,GAAG,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,MAA7B;;AACA,cAAGH,GAAG,IAAE,CAAR,EAAU;AACNV,YAAAA,GAAG,CAAC,mBAAD,CAAH;AACA;AACH;;AAED,cAAIM,EAAE,GAAG,KAAKK,IAAL,CAAUC,QAAV,CAAmB,CAAnB,CAAT;AACA,cAAIL,EAAE,GAAGR,WAAW,CAACO,EAAD,CAApB;AACAC,UAAAA,EAAE,CAACO,MAAH,GAAY,KAAKH,IAAjB;AAEAJ,UAAAA,EAAE,CAACQ,WAAH,cAAmBR,EAAE,CAACS,QAAtB;AAAgCC,YAAAA,CAAC,EAAEX,EAAE,CAACY;AAAtC;AAEA,eAAKZ,EAAL,GAAUA,EAAV;AACA,eAAKC,EAAL,GAAUA,EAAV;AACA,eAAKC,CAAL,GAASF,EAAE,CAACY,MAAZ;AACH;;AACDC,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACtB,cAAG,CAAC,KAAKf,EAAN,IAAY,CAAC,KAAKC,EAArB,EAAwB;AACpB;AACH;;AACD,eAAKD,EAAL,CAAQW,CAAR,IAAW,KAAKK,KAAhB;AACA,eAAKf,EAAL,CAAQU,CAAR,IAAW,KAAKK,KAAhB;;AAEA,cAAG,KAAKhB,EAAL,CAAQW,CAAR,IAAW,CAAC,KAAKT,CAApB,EAAsB;AAClB,iBAAKF,EAAL,CAAQW,CAAR,GAAY,KAAKT,CAAjB;AACH;;AACD,cAAG,KAAKD,EAAL,CAAQU,CAAR,IAAW,CAAC,KAAKT,CAApB,EAAsB;AAClB,iBAAKD,EAAL,CAAQU,CAAR,GAAY,KAAKT,CAAjB;AACH;;AACD,cAAG,KAAKF,EAAL,CAAQW,CAAR,IAAW,CAAC,KAAKT,CAApB,EAAsB;AAClB,iBAAKF,EAAL,CAAQW,CAAR,GAAY,KAAKT,CAAjB;AACH;;AACD,cAAG,KAAKD,EAAL,CAAQU,CAAR,IAAW,CAAC,KAAKT,CAApB,EAAsB;AAClB,iBAAKD,EAAL,CAAQU,CAAR,GAAY,KAAKT,CAAjB;AACH;AACJ;;AAjD8B,O;;;;;iBAQhB,C","sourcesContent":["import { _decorator, Component, instantiate, log, Node } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('bg')\nexport class b_g extends Component {\n    n1: Node;\n    n2: Node;\n    w: number;\n    @property({\n        tooltip:\"向左移动速度\",\n        range:[0.01,10]\n    })\n    speed:number = 0;\n    protected onLoad(): void {\n        let num = this.node.children.length;\n        if(num!=1){\n            log(\"子节点循环移动只允许只有一个子节点\");\n            return\n        }\n\n        let n1 = this.node.children[0];\n        let n2 = instantiate(n1);\n        n2.parent = this.node;\n\n        n2.setPosition({...n2.position, y: n1.height})\n        \n        this.n1 = n1;\n        this.n2 = n2;\n        this.w = n1.height;\n    }\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        if(!this.n1 || !this.n2){\n            return\n        }\n        this.n1.y-=this.speed\n        this.n2.y-=this.speed\n\n        if(this.n1.y<=-this.w){\n            this.n1.y = this.w\n        }\n        if(this.n2.y<=-this.w){\n            this.n2.y = this.w\n        }\n        if(this.n1.y<=-this.w){\n            this.n1.y = this.w\n        }\n        if(this.n2.y<=-this.w){\n            this.n2.y = this.w\n        }\n    }\n}\n\n"]}